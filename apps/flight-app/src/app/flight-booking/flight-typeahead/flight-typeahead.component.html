<ng-container *ngIf="{
  timer: timer$ | async
} as state">
  <div class="card">

    <div class="header">
      <h2 class="title">Flight Typeahead</h2>
    </div>
    <div class="content">
        <!-- Timer 1: {{ state.timer }}<br>
        Timer 2: {{ state.timer }} -->

        <div class="control-group">
          <label>City</label>
          <input [formControl]="control" class="form-control">
        </div>

        <div class="form-group">
          <label>
            <input [formControl]="firstFlight" name="firstFlight" type="checkbox">
            First Flight only
          </label>
        </div>

        <div *ngIf="loading">Loading ...</div>
    </div>
  </div>

  <div class="card">

    <table class="table table-condensed" *ngIf="flights$ | async as flights">
        <thead>
            <tr>
                <th>Id</th>
                <th>From</th>
                <th>To</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let f of flights">
                <td><span class="badge badge-pill badge-info">
                    {{ f.id }}
                </span></td>
                <td>{{ f.from }}</td>
                <td>{{ f.to }}</td>
                <td>{{ f.date | date:'dd.MM.yyyy HH:mm'  }}</td>
            </tr>
        <tbody>
    </table>

  </div>

</ng-container>
